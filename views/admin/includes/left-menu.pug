- var linkClass = ''
- var currentProject

mixin parseSubProjects(obj)
  ul.unstyled
    each projectId in obj
      each project in projects

        if (project.id == projectId && !project.deleted)



          - linkClass = (project._id == currentProjectId ? 'active':'')
          if (project._id == currentProjectId)
           - linkClass = 'active'
           - currentProject = project
          li(id=project._id, class=linkClass)
            .li-wrapper

              a(href='/admin/project/' + project._id)
                span.upper.small= project.name
              a(href='/admin/delete/' + project._id).smaller delete
            if (project.hasChildren)
              +parseSubProjects(project.children)

.left-container
  h1.slim-title MENÃœPUNKTE
  .project-form
    form.form
      .form-item
        //label Neues Projekt erstellen
        .append.w100
          input(type='text', name='project', data-who=currentProjectId)#project-name
          button.button.outline Go

  .project-list
    ul.unstyled

      each project in projects
        if (!project.deleted && !project.hasParent)
          - linkClass = (project._id == currentProjectId ? 'active':'')
          if (project._id == currentProjectId)
            - linkClass = 'active'
            - currentProject = project
          li(id=project._id, class=linkClass)
            .li-wrapper

              a(href='/admin/project/' + project._id)
                span.upper.small= project.name
              a(href='/admin/delete/' + project._id).smaller delete
            if (project.hasChildren)
              +parseSubProjects(project.children)
