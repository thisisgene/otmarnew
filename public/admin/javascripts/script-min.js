function saveAll(e){var a=$(e).data("projectid"),t=$("#project-name-input"),n=t.val(),o=t.data("currentName"),s=$("#description").val(),i=$("input[name=layout]:checked").val(),d=$(".loading-wrapper"),c=$(".loading-screen"),l={id:a,description:s,layout:i};n!=o&&(l.name=n,l.namechanged=!0),d.addClass("show"),d.fadeTo(300,1,function(e){$.post("/admin/save_all",l,function(e){console.log("saved successfully"),"changed"==e&&$(".li-wrapper.active > a > span").text(n),c.addClass("success").delay(100).queue(function(e){d.fadeTo(1800,0,function(){$(this).removeClass("show")}),$(this).delay(1900).queue(function(e){$(this).removeClass("success"),e()}),e()})})})}function reloadAll(){location.reload()}function updateImage(e,a,t){var n=t.length+1,o=a.substring(n);projectId=$(".current-id").data("id");var s,i=$(e).closest(".img-li");"visibility"==t&&(s=$(e)[0].checked);var d={imgid:o,proid:projectId,vistatus:s};$.post("/admin/update_image/"+t,d,function(e){"success"==e&&("delete"==t?i.hide():i.addClass("updated").delay(1e3).queue(function(e){$(this).removeClass("updated"),e()}))})}var projectId;$(".project-form form").on("submit",function(e){e.preventDefault();var a=$("#project-name"),t=a.val(),n=a.data("whoid");""!==t&&void 0==n?$.post("/admin/create_project",{name:t},function(e){a.val("")}):""!==t&&void 0!==n&&$.post("/admin/create_sub_project",{name:t,parentId:n},function(e){console.log("success: ",e)})});