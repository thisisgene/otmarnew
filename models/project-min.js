var mongoose=require("mongoose"),ImageSchema=new mongoose.Schema({filename:String,originalName:String,name:String,desc:String,path:String,fileSize:Number,isCover:Boolean,isVisible:Boolean,isDeleted:Boolean}),ProjectSchema=new mongoose.Schema;ProjectSchema.add({name:String,title:String,latName:String,descMU:String,descHtml:String,deleted:Boolean,visible:Boolean,hasChildren:Boolean,unfold:Boolean,childrenIds:Array,children:[ProjectSchema],hasParent:Boolean,parentId:String,parentName:String,ancestors:Array,layout:String,images:[ImageSchema]});var Project=mongoose.model("Project",ProjectSchema),Image=mongoose.model("Image",ImageSchema);mongoose.Promise=require("bluebird"),mongoose.connect("mongodb://localhost/rychlik",{useMongoClient:!0});